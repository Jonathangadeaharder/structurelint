root: true

exclude:
  - testdata/**
  - .git/**
  - .github/**
  - docs/**

rules:
  # Phase 0: Basic filesystem rules
  max-depth:
    max: 5

  max-files-in-dir:
    max: 20

  max-subdirs:
    max: 10

  # README.md Documentation Requirements
  # Every directory is like a building lobby - it needs a directory/guide
  # Format: "filename": "exists:count"
  file-existence:
    "README.md": "exists:1"

  disallowed-patterns:
    - "*.tmp"
    - "*.bak"
    - ".DS_Store"

# Phase 1: Architectural layers for Go project
layers:
  - name: cmd
    path: cmd/**
    dependsOn: [internal]

  - name: internal
    path: internal/**
    dependsOn: []

# Phase 2: Dead code detection
entrypoints:
  - cmd/structurelint/main.go
  - "**/*_test.go"
